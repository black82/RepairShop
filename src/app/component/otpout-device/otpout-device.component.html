<div class="container-body">
  <app-searchform (actionA)="client_catch($event)" [textButton]="return_device_button_text"
                  [typeForm]="'id-repair'"
                  [titleForm]="titleForm"></app-searchform>

  <div *ngIf="show_client" class="container_form">
    <div class="title-container" tooltip="Compile all fields are required.">
      <p class="title-form">
        <fa-icon [icon]="modul" class="icon-input"></fa-icon>
        Compile the model for the device's <span style="color: #F09EA3">"{{client.device[0]?.model}}"</span> output
        client<span style="color: #F09EA3"> "{{client.typeClient ? client.companyName : client.name}}
        {{client.typeClient ? client.family : ''}}"</span>
      </p>
    </div>
    <form [formGroup]="formClient">
      <div class="row">
        <div class="row-1">
          <label>
            <span class="input-title">Return Date</span>
            <fa-icon [icon]="date" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.return_date.dirty ||
            formClient.controls.return_date.touched) && formClient.controls.return_date.invalid && formClient.controls.return_date.errors}"
                   class="input-1" formControlName="return_date"
                   type="date">

          </label>
          <label>
            <span class="input-title"> Name  client</span>
            <fa-icon [icon]="usertag" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.name_family_output.dirty ||
            formClient.controls.name_family_output.touched) && formClient.controls.name_family_output.invalid && formClient.controls.name_family_output.errors}"
                   class="input-1"
                   [ngModel]="client.typeClient ? client.companyName : client.name+' '+
        client.typeClient ? client.family : ''" formControlName="name_family_output" readonly>
          </label>
          <label>
            <span class="input-title">Model</span>
            <fa-icon [icon]="mobile" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.mobile_output.dirty ||
            formClient.controls.mobile_output.touched) && formClient.controls.mobile_output.invalid && formClient.controls.mobile_output.errors}"
                   class="input-1"
                   [ngModel]="client?.device[0]?.model" formControlName="mobile_output" readonly>
          </label>
          <label>
            <span class="input-title">IMEI&&SN</span>
            <fa-icon [icon]="barcode" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.imei_output.dirty ||
            formClient.controls.imei_output.touched) && formClient.controls.imei_output.invalid && formClient.controls.imei_output.errors}"
                   [ngModel]="client?.device[0]?.imei" class="input-1"
                   formControlName="imei_output" readonly>
          </label>
          <label>
            <span class="input-title">Defect</span>
            <fa-icon [icon]="cogs" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.defect_output.dirty ||
            formClient.controls.defect_output.touched) && formClient.controls.defect_output.invalid && formClient.controls.defect_output.errors}"
                   [ngModel]="client?.device[0]?.repairs[0]?.defect" class="input-1"
                   formControlName="defect_output">
          </label>
          <label><span class="input-title">Parts replaced</span>
            <fa-icon [icon]="chip" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.parts_replace_output.dirty ||
            formClient.controls.parts_replace_output.touched) && formClient.controls.parts_replace_output.invalid && formClient.controls.parts_replace_output.errors}"
                   [ngModel]="client?.device[0]?.repairs[0]?.parts_replaced" class="input-1"
                   (input)="filterItems(formClient.controls.parts_replace_output.value)"
                   formControlName="parts_replace_output">
            <div class="box-autocomplete">
              <div *ngIf="showAddAutocomplete" class="item-autocomplete-container">
                <div *ngFor="let item of filteredItems1 |async;let i=index" class="container-autocomplete">
                  <div *ngIf="i<5" class="item-autocomplete">
                    <div (click)="optionSelected(item)" class="item-div"><span>{{ item }}
                  </span>
                      <hr style="background: #1ABC9C;height: 1px;">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </label>

        </div>
        <div class="row-2">
          <label><span class="input-title">Work done</span>
            <fa-icon [icon]="work" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.work_don_output.dirty ||
            formClient.controls.work_don_output.touched) && formClient.controls.work_don_output.invalid && formClient.controls.work_don_output.errors}"
                   [ngModel]="client?.device[0]?.repairs[0]?.work_don" class="input-1"
                   formControlName="work_don_output">
          </label>

          <label><span class="input-title">Price</span>
            <fa-icon [icon]="money" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.price_output.dirty ||
            formClient.controls.price_output.touched) && formClient.controls.price_output.invalid && formClient.controls.price_output.errors}"
                   [ngModel]="client?.device[0]?.repairs[0]?.price" class="input-2"
                   formControlName="price_output">
          </label>
          <label>
            <span class="input-title">Address</span>
            <fa-icon [icon]="address" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.address_output.dirty ||
            formClient.controls.address_output.touched) && formClient.controls.address_output.invalid && formClient.controls.address_output.errors}"
                   [ngModel]="client?.address" class="input-2"
                   formControlName="address_output" readonly>
          </label>
          <label>
            <span class="input-title">Telethon Model</span>
            <fa-icon [icon]="model" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.model_output.dirty ||
            formClient.controls.model_output.touched) && formClient.controls.model_output.invalid && formClient.controls.model_output.errors}"
                   [ngModel]="client?.device[0]?.model" class="input-2"
                   formControlName="model_output" readonly>
          </label>
          <label>
            <span class="input-title">Deposit</span>
            <fa-icon [icon]="depossit" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.deposit_output.dirty ||
            formClient.controls.deposit_output.touched) && formClient.controls.deposit_output.invalid && formClient.controls.deposit_output.errors}"
                   [ngModel]="client?.device[0]?.repairs[0]?.deposit" class="input-2"
                   formControlName="deposit_output">
          </label>
          <label>
            <span class="input-title">Accessory</span>
            <fa-icon [icon]="accessory" class="icon-input"></fa-icon>
            <input [ngClass]="{'form-submitted': formSubmitted || (formClient.controls.accessory_output.dirty ||
            formClient.controls.accessory_output.touched) && formClient.controls.accessory_output.invalid && formClient.controls.accessory_output.errors}"
                   [ngModel]="client?.device[0]?.accessory" class="input-2"
                   formControlName="accessory_output" readonly>
          </label>
        </div>
      </div>
      <div class="title-container" tooltip="Click all the tests passed at the exit.">

        <p class="title-form">
          <fa-icon [icon]="test" class="icon-input"></fa-icon>
          Tests at the output of the machine.
        </p>
      </div>
      <a (click)="selectAllCheckBox()" class="second-button"> {{buttonCheckBox}}</a>
      <div class="col-checkbox" id="check-box-container">

        <div class="check-col-1">
          <div class="check-single">
            <fa-icon [icon]="sensors" [style.color]="formClient.controls.sensor_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [value]="client.device[0]?.repairs[0]?.outputTest?.sensors_Output"
                     class="check-box"
                     formControlName="sensor_output" name="device-test" type="checkbox">
              <span class="check-box-name">Sensors</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="software" [style.color]="formClient.controls.software.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box test-icon"></fa-icon>
            <label class="checkbox">
              <input class="check-box" formControlName="software"
                     name="device-test" type="checkbox">
              <span class="check-box-name">Software's</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="display" [style.color]="formClient.controls.display_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [ngClass]="{'form-submitted': formSubmitted}"
                     [value]="client?.device[0]?.repairs[0]?.outputTest?.display_Output"
                     class="check-box" formControlName="display_output" name="device-test"
                     type="checkbox">
              <span class="check-box-name">Display</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="conections"
                     [style.color]="formClient.controls.connections_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [ngClass]="{'form-submitted': formSubmitted}"
                     [value]="client?.device[0]?.repairs[0]?.outputTest?.connectors_Output" class="check-box"
                     formControlName="connections_output" name="device-test" type="checkbox">
              <span class="check-box-name">Connectors</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="sound"
                     [style.color]="formClient.controls.sound_equipment_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [ngClass]="{'form-submitted': formSubmitted}"
                     [value]="client?.device[0]?.repairs[0]?.outputTest?.sound_equipment_Output" class="check-box"
                     formControlName="sound_equipment_output" name="device-test" type="checkbox">
              <span class="check-box-name">Sound/equipment</span>
            </label>
          </div>

        <div class="check-single">
          <fa-icon [icon]="touch" [style.color]="formClient.controls.touch_output.value? '#1ABC9C' : 'lightcoral'"
                   class="icon-box"></fa-icon>
          <label class="checkbox">
            <input [ngClass]="{'form-submitted': formSubmitted}"
                   [value]="client.device[0].repairs[0]?.outputTest?.touch_Output"
                   class="check-box" formControlName="touch_output"
                   name="device-test" type="checkbox">
            <span class="check-box-name">Touch</span>
          </label>
        </div>
          <div class="check-single">
            <fa-icon [icon]="wifi" [style.color]="formClient.controls.wi_fi_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [ngClass]="{'form-submitted': formSubmitted}"
                     [value]="client.device[0].repairs[0]?.outputTest?.wi_fi_Output"
                     class="check-box" formControlName="wi_fi_output"
                     name="device-test" type="checkbox">
              <span class="check-box-name">Wi-Fi</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="microfon"
                     [style.color]="formClient.controls.microphone_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [ngClass]="{'form-submitted': formSubmitted}"
                     [value]="client.device[0].repairs[0]?.outputTest?.microphone_Output" class="check-box"
                     formControlName="microphone_output" name="device-test" type="checkbox">
              <span class="check-box-name">Microphone</span>
            </label>
          </div>
        </div>
        <div class="check-col-2">

          <div class="check-single">
            <fa-icon [icon]="sim" [style.color]="formClient.controls.sim_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [ngClass]="{'form-submitted': formSubmitted}"
                     [value]="client.device[0].repairs[0]?.outputTest?.sim_Output"
                     class="check-box" formControlName="sim_output"
                     name="device-test" type="checkbox">
              <span class="check-box-name">Sim</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="keybord"
                     [style.color]="formClient.controls.keyboard_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [ngClass]="{'form-submitted': formSubmitted}"
                     [value]="client.device[0].repairs[0]?.outputTest?.keyboard_Output"
                     class="check-box"
                     formControlName="keyboard_output" name="device-test" type="checkbox">
              <span class="check-box-name">Keyboard</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="display_touch"
                     [style.color]="formClient.controls.display_touch_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [ngClass]="{'form-submitted': formSubmitted}"
                     [value]="client.device[0].repairs[0]?.outputTest?.display_touch_Output"
                     class="check-box"
                     formControlName="display_touch_output" name="device-test" type="checkbox">
              <span class="check-box-name">Display Touch</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="camera" [style.color]="formClient.controls?.camera_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [ngClass]="{'form-submitted': formSubmitted}"
                     [value]="client.device[0].repairs[0]?.outputTest?.camera_Output"
                     class="check-box" formControlName="camera_output"
                     name="device-test" type="checkbox">
              <span class="check-box-name">Camera</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="vibrations" [style.color]="formClient.controls.vibrations.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box test-icon"></fa-icon>
            <label class="checkbox">
              <input class="check-box" formControlName="vibrations" name="device-test" type="checkbox">
              <span class="check-box-name">Vibrations</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="soundPhone"
                     [style.color]="formClient.controls.audio_equipment_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box test-icon"></fa-icon>
            <label class="checkbox">
              <input class="check-box" formControlName="audio_equipment_output" name="device-test" type="checkbox">
              <span class="check-box-name">Audio Device</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="bluetoothIcon"
                     [style.color]="formClient.controls.bluetooth.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box test-icon"></fa-icon>
            <label class="checkbox">
              <input class="check-box" formControlName="bluetooth"
                     name="device-test" type="checkbox">
              <span class="check-box-name">Bluetooth</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="camera"
                     [style.color]="formClient.controls?.camera_Output_Front.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [ngClass]="{'form-submitted': formSubmitted}"
                     [value]="client.device[0].repairs[0]?.outputTest?.camera_Output_Front"
                     class="check-box" formControlName="camera_Output_Front"
                     name="device-test" type="checkbox">
              <span class="check-box-name">Camera Front</span>
            </label>
          </div>
          <div class="check-single">
            <fa-icon [icon]="faceIdFa"
                     [style.color]="formClient.controls?.faceId_output.value? '#1ABC9C' : 'lightcoral'"
                     class="icon-box"></fa-icon>
            <label class="checkbox">
              <input [ngClass]="{'form-submitted': formSubmitted}"
                     [value]="client.device[0].repairs[0]?.outputTest?.faceIdOutput"
                     class="check-box" formControlName="faceId_output"
                     name="device-test" type="checkbox">
              <span class="check-box-name">Face Id</span>
            </label>
          </div>
        </div>
      </div>
      <app-email-modal [callerServiceType]="'repair'"></app-email-modal>
      <app-number-repair></app-number-repair>
      <div class="text-div">
        <div class="title-container" tooltip="Notes for staff at the output of the machine">
          <p class="title-form">
            <fa-icon [icon]="photo" class="icon-input"></fa-icon>
            Photos and Note the output of the machine
            <fa-icon [icon]="text" class="icon-input"></fa-icon>
          </p>
        </div>
        <app-sig-pad></app-sig-pad>
        <div class="row-1">
          <app-dragfile></app-dragfile>
        </div>
        <div class="row-2">
          <textarea [value]="client.device[0].repairs[0]?.noteOutput" class="text-area"
                    formControlName="note_output">...</textarea>
        </div>
      </div>
      <div class="button_form">
        <div tooltip="You will leave this page!!!">
          <a (click)="dismissed()" class="dismiss"><span><fa-icon [icon]="discar"
                                                                  class="button-icon"></fa-icon>Discard Form</span></a>
        </div>
        <div tooltip="The model will be sent to the Email">
          <a (click)="sign_pad_open()"
             class=" button email"><span> <fa-icon
            [icon]="mail" class="button-icon"></fa-icon>Preview and Save</span></a>
        </div>
      </div>
    </form>
  </div>
</div>


