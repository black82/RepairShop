<div *ngIf="show_email_send" class="container-email-modal">
  <div class="modalDialog modal-container" id="openModal-about">
    <div class="border-container">
      <button (click)="showModal()" class="btn btn-danger" type="button">Hide the window</button>
      <h1 style="font-size: 16pt;
      font-weight: 500;color: #F3F3F3;text-align: center;margin: 0">{{title}}</h1>
      <div *ngIf="show_email_alternative">
        <a (click)="dismiss()" class="close" title="Close"><span class="x">X</span></a>
        <div class="container-page">
          <div class="head-doc" style=";
   margin-top: 25px;float: left;width: 100%; display: inline;">
            <div class="col" style="float: left; width:67%;">
              <img alt="" class="logotipo" height="190"
                   src="http://ec2-15-161-166-206.eu-south-1.compute.amazonaws.com/assets/images/logo150x150.png"
                   style="margin: 1px; margin-left: 10px"
                   width="190"/>
            </div>

            <div class="col23" style="display: inline; width:30%;float: left">
              <div class="address">
                <h1 *ngIf="type_print===1||type_print===2" style="font-size: 16pt;
  font-weight: 500;color: #c54040">Riparazione</h1>
                <h1 *ngIf="type_print===4" style="font-size: 16pt;
  font-weight: 500;color: #c54040">Vendita del Dispositivo</h1>
                <h1 *ngIf="type_print===3" style="font-size: 16pt;
  font-weight: 500;color: #c54040">Acquisto del Dispositivo</h1>
                <p style="font-size: 9pt;  color:#c54040"><strong> Nr. {{ id ? id : ''}}</strong></p>
                <p style="font-size: 9pt;margin: 1px;">info@rfvtechnology.it</p>
                <p style="font-size: 9pt;margin: 1px;">Nembro Italia(BG) , 24027</p>
                <p style="font-size: 9pt;margin: 1px;">Via Garibaldi , 6/A</p>
              </div>
            </div>
          </div>

          <div style="clear: both;">
            <div style="float: none;border-style: solid;
  border-color: black;
  border-width: 1pt 1pt 1pt 1pt;
  border-radius: 5pt;
  margin: 0 5px 5px;">
              <div class="col-324234">
                <p *ngIf="!client?.typeClient"
                   style="font-size: 9pt;margin: 1px">{{"Cliente :  " + client?.name + ' ' + client?.family }}</p>
                <p *ngIf="client?.typeClient"
                   style="font-size: 9pt;margin: 1px">{{"Cliente :  " + client?.companyName }}</p>
                <p *ngIf="client?.typeClient"
                   style="font-size: 9pt;margin: 1px">{{"Cliente Iva :  " + client?.ivaCompany }}</p>
                <p *ngIf="client?.typeClient"
                   style="font-size: 9pt;margin: 1px">{{"Cliente  Sdi:  " + client?.sdiCompany }}</p>
                <p style="font-size: 9pt;margin: 1px"> {{"Email :  " + client?.email}}</p>
                <p
                  *ngIf="print_entity.type_client_print===1||print_entity.type_client_print===3||print_entity.type_client_print===4"
                  style="font-size: 9pt;margin: 1px">Numero Telefonico
                  :  {{ client?.telephone_number ? client.telephone_number : 'n/a' }}</p>
                <p *ngIf="print_entity.type_client_print===2"
                   style="font-size: 9pt;margin: 1px">Numero Telefonico
                  :  {{ client?.telephone_number.includes('n/a') ? 'n/a' : client.telephone_number}}</p>
                <p style="font-size: 9pt;margin: 1px">{{"Indirizzo cliente :  " + client?.address}}</p>
              </div>
            </div>
          </div>
          <div *ngIf="type_print===3" style="border-style: solid;
  border-color: black;
  border-width: 1pt 1pt 1pt 1pt;
  border-radius: 5pt;margin: 0 5px 5px;">
            <div>
              <p style="font-size: 9pt;margin: 1px"> {{"Model :  " + client?.deviceBay[0]?.model}}</p>
              <p style="font-size: 9pt;margin: 1px"> Condizioni d'uso
                :   {{ client?.deviceBay[0]?.state_of_use ? 'Nuovo' : 'Usato'}}</p>
              <p *ngIf="print_entity.type_client_print===3"
                 style="font-size: 9pt;margin: 1px">IMEI & SN
                : {{client?.deviceBay[0]?.imei ? client?.deviceBay[0]?.imei : 'n/a' }}</p>
              <p style="font-size: 9pt;margin: 1px"> {{"Tipo di Dispositivo :  " + client?.deviceBay[0].deviceType}}
                .</p>
              <p style="font-size: 9pt;margin: 1px">{{"Accessory :  " + client?.deviceBay[0]?.accessory}}</p>
              <p style="font-size: 9pt;margin: 1px;">
                Data Di Acquisto
                :  {{ setNewDateFormat(client?.deviceBay[0]?.dateBaying)| date: 'yyyy/MM/dd h:mm:ss a'}}</p>
            </div>
          </div>
          <div *ngIf="type_print===4" style="border-style: solid;
  border-color: black;
  border-width: 1pt 1pt 1pt 1pt;
  border-radius: 5pt;margin: 0 5px 5px;">
            <div>
              <p style="font-size: 9pt;margin: 1px"> {{"Model :  " + client?.deviceSale[0]?.model}}</p>
              <p
                style="font-size: 9pt;margin: 1px">Condizioni d'uso
                :   {{ client?.deviceSale[0]?.state_of_use ? 'Nuovo' : 'Usato'}}</p>
              <p
                style="font-size: 9pt;margin: 1px"> {{"Condizioni d'uso :  " + client?.deviceSale[0].garantyDuration}}</p>
              <p *ngIf="print_entity.type_client_print===4"
                 style="font-size: 9pt;margin: 1px">IMEI & SN
                : {{client?.deviceSale[0]?.imei}}</p>
              <p style="font-size: 9pt;margin: 1px"> {{"Tipo di Dispositivo :  " + client?.deviceSale[0].deviceType}}
                .</p>
              <p style="font-size: 9pt;margin: 1px">{{"Accessory :  " + client?.deviceSale[0]?.accessory}}</p>
              <p style="font-size: 9pt;margin: 1px;">
                Data Di Acquisto
                :  {{ setNewDateFormat(client?.deviceSale[0]?.dateSale)| date: 'yyyy/MM/dd h:mm:ss a'}}</p>
            </div>
          </div>
          <div *ngIf="type_print===1||type_print===2" style="border-style: solid;
  border-color: black;
  border-width: 1pt 1pt 1pt 1pt;
  border-radius: 5pt;margin: 0 5px 5px; float: left;width: 99%; display: inline">
            <div style="float: left; width:47%;">
              <p style="font-size: 9pt;margin: 1px"> {{"Model :  " + client?.device[0]?.model}}</p>
              <p style="font-size: 9pt;margin: 1px"> {{"Condizioni d'uso :  " + client?.device[0]?.state_of_use}}</p>
              <p *ngIf="print_entity.type_client_print===1"
                 style="font-size: 9pt;margin: 1px">IMEI & SN
                : {{client?.device[0]?.imei ? client?.device[0]?.imei : 'n/a' }}</p>
              <p *ngIf="print_entity.type_client_print===2"
                 style="font-size: 9pt;margin: 1px">IMEI & SN
                : {{client?.device[0]?.imei.includes('n/a') ? 'n/a' : client?.device[0]?.imei  }}</p>
              <p style="font-size: 9pt;margin: 1px"> {{"Difect :  " + client?.device[0]?.repairs[0]?.defect}}.</p>
              <p style="font-size: 9pt;margin: 1px">{{"Accessory :  " + client?.device[0]?.accessory}}</p>
              <p style="font-size: 9pt;margin: 1px;">
                Date to enter
                :  {{ setNewDateFormat(client?.device[0]?.repairs[0]?.date_to_enter)| date: 'yyyy/MM/dd h:mm:ss a'}}</p>
              <p style="font-size: 9pt;margin: 1px"> {{"Deposit :  " + client?.device[0].repairs[0]?.deposit}}</p>
              <p
                style="font-size: 9pt;margin: 1px"> {{"Prezzo di riparazione :  " + client?.device[0]?.repairs[0]?.price}}</p>
              <p *ngIf="type_print===1"
                 style="font-size: 9pt;margin: 1px">{{"La riparazione sarà finalizzata :  " + date_exit}}</p>

            </div>


            <div *ngIf="type_print===2" style="float: left; width:47%;">
              <p
                style="font-size: 8pt;margin: 1px">Data di ricezione del dispositivo
                : {{ setNewDateFormat(client?.device[0]?.repairs[0]?.date_to_enter)| date: 'yyyy/MM/dd h:mm:ss a'}}</p>
              <p style="font-size: 8pt;margin: 1px;">
                Data di ritorno del dispositivo
                : {{ setNewDateFormat(client?.device[0]?.repairs[0]?.output_date)| date: 'yyyy/MM/dd h:mm:ss a'}}</p>
              <p style="font-size: 9pt;margin: 1px;">{{"Deposit :  " + client?.device[0]?.repairs[0]?.deposit}}</p>
              <p
                style="font-size: 9pt;margin: 1px;">{{"Prezzo di riparazione :  " + client?.device[0]?.repairs[0]?.price}}</p>
              <p
                style="font-size: 9pt;margin: 1px;">{{"Lavoro svolto :  " + client?.device[0]?.repairs[0]?.work_don}}</p>
              <p
                style="font-size: 9pt;margin: 1px;">{{"Ricambi usati :  " + client?.device[0]?.repairs[0]?.parts_replaced}}</p>
            </div>
          </div>
          <div style="clear: both;"></div>
          <div *ngIf="type_print===1|| type_print===2" style="border-style: solid; border-color: black;  border-width: 1pt 1pt 1pt 1pt;
  border-radius: 5pt;margin: 0 5px 5px 05px;">
            <table style="width: 99%;">
              <td style="width:50%;">
                <p *ngIf="name_test_entre.length===0" class="label"
                   style="font-size: 8pt;margin: 2px; color: #1ABC9C">
                  Il
                  tuo
                  dispositivo ha superato con successo tutti i nostri
                  test di
                  ingresso!!!</p>
                <div *ngIf="name_test_entre.length>0&& name_test_entre.length!=17">
                  <p style="color: #1ABC9C;font-size: 8pt;margin: 2px;">Test di ingresso no superate!!!</p>
                  <ul *ngFor="let test of name_test_entre" style="padding-left: 18px;margin: 0;float: left">
                    <li style="padding:0;color: #c54040;font-size: 8pt;margin: 0;float: left"> {{test}}</li>
                  </ul>
                </div>
                <div *ngIf="name_test_entre.length===17">
                  <p style="font-size: 13pt;margin: 2px; color: #c54040;">Tutti i test in ingresso sono negativi o non e
                    stato
                    possibile testare il dispositivo.!!!</p>
                </div>
              </td>
              <td style="width:50%;">
                <div>
                  <p *ngIf="name_test_out?.length===0 && type_print===2" class="label"
                     style="font-size: 8pt;margin: 2px; color: #1ABC9C">Il tuo dispositivo
                    ha superato con successo
                    tutti i nostri test in uscita!!!</p>
                  <div *ngIf="name_test_out?.length>0&&name_test_out.length!=17">
                    <p style="font-size: 8pt;margin: 2px; color: #1ABC9C;">Test di uscita no superate!!!</p>
                    <ul *ngFor="let test_exit of name_test_out" class="disclaimer"
                        style="padding-left: 18px;margin: 0;float: left">
                      <li style=" padding:0;color: #c54040;font-size: 8pt;margin: 0;float: left">{{test_exit}}</li>
                    </ul>
                    <div style="clear: both"></div>
                  </div>
                </div>
                <div *ngIf="name_test_out.length===17">
                  <p style="font-size: 13pt;margin: 2px; color: #c54040;">Tutti i test in uscita sono negativi o non e
                    stato
                    possibile testare il dispositivo.!!!</p>
                </div>
              </td>
            </table>
          </div>
          <div *ngIf="type_print===3" style="border-style: solid; border-color: black;  border-width: 1pt 1pt 1pt 1pt;
  border-radius: 5pt;margin: 0 5px 5px 05px;">
            <div style="width: 99%;">
              <div>
                <p *ngIf="name_test_entre.length===0" class="label"
                   style="font-size: 8pt;margin: 2px; color: #1ABC9C">
                  Il
                  dispositivo ha superato con successo tutti i nostri
                  test di
                  acquisto!!!</p>
                <div *ngIf="name_test_entre.length>0&& name_test_entre.length!=17">
                  <p style="color: #1ABC9C;font-size: 8pt;">Test di acquisto no superate!!!</p>
                  <ul *ngFor="let test of name_test_entre" style="padding-left: 18px;margin: 0;float: left">
                    <li style=" padding:0;color: #c54040;font-size: 8pt;margin: 0;float: left"> {{test}}</li>
                  </ul>
                  <div style="clear: both"></div>
                </div>
                <div *ngIf="name_test_entre.length===17">
                  <p style="font-size: 13pt;margin: 2px; color: #c54040;">Tutti i test di acquisto sono negativi o non e
                    stato
                    possibile testare il dispositivo.!!!</p>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="type_print===4" style="border-style: solid; border-color: black;  border-width: 1pt 1pt 1pt 1pt;
  border-radius: 5pt;margin: 0 5px 5px 05px;">
            <div style="width: 99%;">
              <div>
                <p *ngIf="name_test_out.length===0" class="label"
                   style="font-size: 8pt;margin: 2px; color: #1ABC9C">
                  Il
                  dispositivo ha superato con successo tutti i nostri
                  test di
                  Vendita!!!</p>
                <div *ngIf="name_test_out.length>0&& name_test_out.length!=17">
                  <p style="color: #1ABC9C;font-size: 8pt;margin: 2px;">Test di vendita no superate!!!</p>
                  <ul *ngFor="let test of name_test_out" style="padding-left: 18px;margin: 0;float: left">
                    <li style=" padding:0;color: #c54040;font-size: 8pt;margin: 0;float: left"> {{test}}</li>
                  </ul>
                  <div style="clear: both"></div>
                </div>
                <div *ngIf="name_test_out.length===17">
                  <p style="font-size: 13pt;margin: 2px; color: #c54040;">Tutti i test di vendita sono negativi o non e
                    stato
                    possibile testare il dispositivo.!!!</p>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="type_print===1||type_print===2" style=" border-style: solid;
  border-color: black;
  border-width: 1pt 1pt 1pt 1pt;
  border-radius: 5pt;margin: 0; width: 99%">

            <p *ngIf="client.device[0].repairs[0].note!=null&&client.device[0].repairs[0].note.length>0"
               style="font-size: 7pt;margin: 0; color: #c54040;">
              <span style="font-size: 9pt; margin: 0;">Note All'ingresso  : </span>
              {{client.device[0].repairs[0].note}}</p>
            <p *ngIf="client.device[0].repairs[0].note!=null&&client.device[0].repairs[0].note.length>0"
               style="font-size: 9pt;margin: 2px; color: #c54040;">
              <span style="font-size: 9pt; margin: 0;">Note L'uscita  : </span>
              {{client.device[0].repairs[0].noteOutput}}</p>
            <hr style="margin: 0;padding: 0">
            <p style="font-size: 9pt; margin: 0;">Condizioni Generali:</p>
            <p style="font-size: 9pt;margin: 0;">
              Firmando questo foglio il cliente dichiara che -Il dispositivo è stato testato al momento della consegna
              ed è tutto funzionante ( eccetto difetti precedentemente dichiarati nella sezione NOTE ) -Si è a
              conoscenza che la garanzia si estende per un mese dal giorno di avvenuta riparazione e che comprende
              solamente le parti di ricambio sostituite . La suddetta garanzia non copre : lavori software (
              formattazioni , recupero dati , liberazione memoria ... ) in quanto il tecnico non può essere a conoscenza
              dell'utilizzo del cliente Rotture accidentali , difetti non dovuti alla fabbricazione del prodotto in
              questione ( display , tasti , suoneria , altoparlanti , connettori ... ) o contatto con agenti esterni (
              acqua , colle , cosmetid , liquidi , fonti di calore ... )
            </p>
            <hr style="margin: 0;padding: 0">
            <p style="font-size: 9pt; margin:0;">Autorizzo il trattamento dei mei dati personali ai sensi del Decreto
              Legislativo 30 giugno 2003,n.196”Codice in materia di protezione dei
              dati personali”</p>
          </div>
          <div *ngIf="type_print===3" style=" border-style: solid;
  border-color: black;
  border-width: 1pt 1pt 1pt 1pt;
  border-radius: 5pt;margin: 0 5px 5px;">
            <p style="font-size: 9pt; margin: 1px;">Note : </p>
            <p
              *ngIf="client.deviceBay[0].noteInput!=null&&client.deviceBay[0].noteInput.length>0"
              style="font-size: 9pt;margin: 2px; color: #c54040;">
              {{client.deviceBay[0].noteInput}}</p>
            <!--            <p-->
            <!--              *ngIf="client.device[0].repairs[0].note!=null&&client.device[0].repairs[0].note.length>0"-->
            <!--              style="font-size: 9pt;margin: 2px; color: #c54040;">-->
            <!--              {{client.device[0].repairs[0].noteOutput}}</p>-->
            <!--            <hr>-->
            <!--            <p style="font-size: 9pt; margin: 1px;">Condizioni Generali:</p>-->
            <!--            <p style="font-size: 9pt;margin: 2px;">-->
            <!--              RFV Technology non si assume la responsabilità di nessun genere sulle seguenti-->
            <!--              condizioni: -Se il telefono viene consegnato spento o con difetti che non permettono al tecnico di-->
            <!--              effettuare-->
            <!--              i-->
            <!--              test d'ingresso -Se, o seguito di un salvataggio dati, il cliente dichiara che non sono presenti del dati-->
            <!--              (RFV-->
            <!--              Technology si basa sulla dimensione di ogni singola cartella per verificare che tutti i dati presenti sul-->
            <!--              dispositivo vengano salvati) -Se il dispositivo, pronto per essere consegnato, viene lasciato in negozio-->
            <!--              per-->
            <!--              più-->
            <!--              di 90 giorni a partire dal giorno della chiamata al eliente-->
            <!--            </p>-->
            <!--            <p style="font-size: 9pt; margin: 2px;">NB: dopo il termine, Il disponitivo verrà ritirato-->
            <!--              come spese aziendali per il lavoro non più pagato</p>-->
            <!--            <hr>-->
            <!--            <p style="font-size: 9pt; margin: 2px;">Autorizzo il trattamento dei mei dati personali ai sensi del Decreto-->
            <!--              Legislativo 30 giugno 2003,n.196”Codice in materia di protezione dei-->
            <!--              dati personali”</p>-->
          </div>
          <div *ngIf="type_print===4" style=" border-style: solid;
  border-color: black;
  border-width: 1pt 1pt 1pt 1pt;
  border-radius: 5pt;margin: 0 5px 5px;">
            <p style="font-size: 9pt; margin: 1px;">Note : </p>
            <p
              *ngIf="client.deviceSale[0].noteOutput!=null&&client.deviceSale[0].noteOutput.length>0"
              style="font-size: 9pt;margin: 2px; color: #c54040;">
              {{client.deviceSale[0].noteOutput}}</p>
            <!--            <p-->
            <!--              *ngIf="client.device[0].repairs[0].note!=null&&client.device[0].repairs[0].note.length>0"-->
            <!--              style="font-size: 9pt;margin: 2px; color: #c54040;">-->
            <!--              {{client.device[0].repairs[0].noteOutput}}</p>-->
            <!--            <hr>-->
            <!--            <p style="font-size: 9pt; margin: 1px;">Condizioni Generali:</p>-->
            <!--            <p style="font-size: 9pt;margin: 2px;">-->
            <!--              RFV Technology non si assume la responsabilità di nessun genere sulle seguenti-->
            <!--              condizioni: -Se il telefono viene consegnato spento o con difetti che non permettono al tecnico di-->
            <!--              effettuare-->
            <!--              i-->
            <!--              test d'ingresso -Se, o seguito di un salvataggio dati, il cliente dichiara che non sono presenti del dati-->
            <!--              (RFV-->
            <!--              Technology si basa sulla dimensione di ogni singola cartella per verificare che tutti i dati presenti sul-->
            <!--              dispositivo vengano salvati) -Se il dispositivo, pronto per essere consegnato, viene lasciato in negozio-->
            <!--              per-->
            <!--              più-->
            <!--              di 90 giorni a partire dal giorno della chiamata al eliente-->
            <!--            </p>-->
            <!--            <p style="font-size: 9pt; margin: 2px;">NB: dopo il termine, Il disponitivo verrà ritirato-->
            <!--              come spese aziendali per il lavoro non più pagato</p>-->
            <!--            <hr>-->
            <!--            <p style="font-size: 9pt; margin: 2px;">Autorizzo il trattamento dei mei dati personali ai sensi del Decreto-->
            <!--              Legislativo 30 giugno 2003,n.196”Codice in materia di protezione dei-->
            <!--              dati personali”</p>-->
          </div>
          <div style="margin: 1px">
            <span style="color: #1ABC9C">{{client?.send_email_active ? ' SI ' : ' NO '}}accetto di ricevere e-mail con notizie o fatture da questo emittente.</span>
            <div>
              <div style="font-size: 9pt; margin: 1px;color: #c54040;
  border-bottom: solid black 1pt;">Dichiaro di essere d'accordo con le condizioni
                stabilite in questo
                documento. Per quello firmo. Nembro - {{date | date:'dd/MM/yyyy'}}
                <div class="sig_container" style=" float: left;
   width: 100%; display: inline-block">
                  <div class="staff-container" style="float: left; width:50%;">
                    <p>RFV Staff : <span style="color: #1ABC9C">{{userNickname}}</span></p>
                    <img alt="" height="20px" src="{{images_sig[0]}}" width="70px">
                  </div>
                  <div class="client_container" style="display: inline; width:30%;float: left">
                    <p *ngIf="!client?.typeClient" style="width: 49%">Client :<span
                      style="color: #1ABC9C"> {{client?.name + ' ' + client?.family}}</span></p>
                    <p *ngIf="client?.typeClient" style="width: 49%">Client :<span
                      style="color: #1ABC9C"> {{client?.companyName}}</span></p>
                    <img alt="" height="20px" src="{{images_sig[1]}}" width="70px">
                  </div>
                </div>
                <div class="clear" style="clear: both;margin: 0"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="button_form">
          <div tooltip="You will leave this page!!!">
            <a (click)="edit_client()" class="edit">
        <span><fa-icon [icon]="redact" class="button-icon"></fa-icon>
        Redact Form</span></a></div>
          <div tooltip="The model will be sent to the Printer">
            <a (click)="print_click()" class="print button ">
        <span> <fa-icon [icon]="printer"
                        class="button-icon"></fa-icon> Print Invoice</span></a></div>

          <div [class.disabled]="true" tooltip="The model will be sent to the WhatsApp">
            <a (click)="clickWhatsappSender()" class="whatsapp button ">
        <span> <fa-icon [icon]="whatsapp"
                        class="button-icon"></fa-icon>WhatsApp Invoice</span></a>
          </div>

          <div [class.disabled]="true" tooltip="The model will be sent to the MMS">
            <a (click)="clickMmsSender()" class="mms button ">
        <span> <fa-icon [icon]="mms"
                        class="button-icon"></fa-icon> MMS Invoice</span></a>
          </div>
          <div tooltip="The model will be sent to the Email">
            <a (click)="clickEmailSender()" [class.disabled]="email_send_disable" class=" button email"><span> <fa-icon
              [icon]="mail" class="button-icon"></fa-icon> Email Invoice</span></a>
          </div>


        </div>
      </div>
    </div>
  </div>
</div>

